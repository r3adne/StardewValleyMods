{
	"Format": "2.0.0",
	
	"ConfigSchema":
	{
		"EllePalette": 
		{
			"AllowValues": "Elle, Earthy, Starblue",
			"Default": "Elle",
			"Description": "Provides compatibility for the chosen palette. Does nothing without Elle's Town Buildings installed."
		},
		"WittilyDirt": 
		{
			"AllowValues": "Light, Dark",
			"Default": "Dark",
			"Description": "Provides compatibility for the chosen dirt color. Does nothing without Wittily Named Recolor installed."
		}
	},
   
   "DynamicTokens":
	[
		//Recolor and Resprite Compatibility
		{
			"Name": "Recolor",
			"Value": "Vanilla"
		},
		{
			"Name": "Recolor",
			"Value": "VPR",
			"When":
				{"HasMod": "grapeponta.VibrantPastoralRecolor"}
		},
		{
			"Name": "Recolor",
			"Value": "Starblue",
			"When": 
				{"HasMod": "Lita.StarblueValley"}
		},
		{
			"Name": "Recolor",
			"Value": "Wittily - Light",
			"When": 
			{
				"HasMod": "Acerbicon.Recolor",
				"WittilyDirt": "Light"
			}
		},
		{
			"Name": "Recolor",
			"Value": "Wittily - Dark",
			"When":
			{
				"HasMod": "Acerbicon.Recolor",
				"WittilyDirt": "Dark"
			}
		},
		{
			"Name": "Recolor",
			"Value": "Cotton Candy",
			"When":
			{
				"HasMod": "PinkStations.CottonCandyRecolor"
			}
		},
		{
			"Name": "Recolor",
			"Value": "Elle - Elle",
			"When":
			{
				"HasMod": "Elle.TownBuildings",
				"EllePalette": "Elle"
			}
		},
		{
			"Name": "Recolor",
			"Value": "Elle - Earthy",
			"When":
			{
				"HasMod": "Elle.TownBuildings",
				"EllePalette": "Earthy"
			}
		},
		{
			"Name": "Recolor",
			"Value": "Elle - Starblue",
			"When":
			{
				"HasMod": "Elle.TownBuildings",
				"EllePalette": "Starblue"
			}
		},
		{
			"Name": "Recolor",
			"Value": "Way Back Pelican Town",
			"When": {"HasMod": "Gweniaczek.WayBackPT"}
		},
		
		{
			"Name": "Mouse Friends",
			"Value": "{{Random:Beanie, Bijou, Bow, Dipper, Flower, Goggles, Headband, Link, Marlon, Original, Post, Red, Sailor, Straw Hat, Wizard |key=MouseFriends}}"
		},
		{
			"Name": "Mouse Friends",
			"Value": "{{Random:Beanie, Bijou, Bow, Dipper, Flower, Goggles, Headband, Link, Marlon, Post, Red, Sailor, Straw Hat, Wizard |key=MouseFriends}}",
			"When":
			{
				"HasMod": "ichortower.HatMouseLacey"
			}
		}
	],
   
	"Changes":
	[
		//Relay for everyone's favorite Hat Mouse
		{
			"LogName": "Hat Mouse Relay",
			"Action": "EditImage",
			"PatchMode": "Overlay",
			"Target": "LooseSprites/Cursors",
			"FromFile": "Assets/{{Recolor}}/{{Mouse Friends}}.png",
			"FromArea": { "X": 0, "Y": 0, "Width": 15, "Height": 15 },
			"ToArea": { "X": 631, "Y": 1967, "Width": 15, "Height": 15 },
			"When": {"HasMod |contains= Gweniaczek.WayBackPT": false}
		},
		
		//Compatibility with Gwen's Way Back Pelican Town
		{
			"LogName": "Hat Mouse Relay w/ Gwen",
			"Action": "EditImage",
			"PatchMode": "Overlay",
			"Target": "LooseSprites/Cursors",
			"FromFile": "Assets/{{Recolor}}/{{Mouse Friends}}.png",
			"FromArea": { "X": 0, "Y": 0, "Width": 15, "Height": 19 },
			"ToArea": { "X": 631, "Y": 1958, "Width": 15, "Height": 19 },
			"When":
			{
				"HasMod |contains= Gweniaczek.WayBackPT": true,
				"HasMod |contains= ichortower.HatMouseLacey": false
			}
		},
		
		//...and Compat if both WBPT and Hat Mouse Lacey are installed
		{
			"LogName": "Hat Mouse Relay w/ Gwen & Lacey",
			"Action": "EditImage",
			"PatchMode": "Overlay",
			"Target": "LooseSprites/Cursors",
			"FromFile": "Assets/Lacey in Way Back Pelican Town/{{Mouse Friends}}.png",
			"FromArea": { "X": 0, "Y": 0, "Width": 15, "Height": 15 },
			"ToArea": { "X": 631, "Y": 1962, "Width": 15, "Height": 15 },
			"When":
			{
				"HasMod |contains= Gweniaczek.WayBackPT": true,
				"HasMod |contains= ichortower.HatMouseLacey": true
			},
			"Priority": "Late"
    },
	
		//Compatibility with PeacefulEnd's Hat Shop Restoration
		//Hide Mouse
		{
			"LogName": "Hide Mouse Sprite",
			"Action": "EditImage",
			"PatchMode": "Replace",
			"Target": "LooseSprites/Cursors",
			"FromFile": "Assets/Hat Shop Restoration/Blank.png",
			"FromArea": { "X": 0, "Y": 0, "Width": 58, "Height": 31 },
			"ToArea": { "X": 605, "Y": 1958, "Width": 58, "Height": 31 },
			"When":
			{
				"HasMod": "PeacefulEnd.AMouseWithAHat.Core",
				"HasFlag": "HatShopRepaired"
			}
		},
		
		//Relay for Hat Mouse, but this time indoors
		{
			"LogName": "Hat Mouse Indoor Relay",
			"Action": "EditImage",
			"PatchMode": "Replace",
			"Target": "Maps/z_MouseShop_Interior",
			"FromFile": "Assets/Hat Shop Restoration/{{Mouse Friends}}.png",
			"FromArea": { "X": 0, "Y": 0, "Width": 80, "Height": 84 },
			"ToArea": { "X": 0, "Y": 128, "Width": 80, "Height": 84 },
			"When":
			{
				"HasMod": "PeacefulEnd.AMouseWithAHat.Core",
				"HasFlag": "HatShopRepaired"
			}
		}
    ]
}